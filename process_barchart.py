import matplotlib.pyplot as plt

def plot_processes_created(process_counts):
    # Extract the processes and their counts
    processes = list(process_counts.keys())
    counts = list(process_counts.values())
    
    # Create a bar chart
    plt.figure(figsize=(10,6))
    plt.barh(processes, counts, color='skyblue')
    plt.xlabel('Count')
    plt.ylabel('Process Created')
    plt.title('Processes Created Count')
    plt.gca().invert_yaxis()  # This will show the process with the highest count on top
    plt.tight_layout()
    
    # Save the chart as an image
    processes_created_image_path = r'reports\processes_created.png'
    plt.savefig(processes_created_image_path)
    # Optionally display the chart
    #plt.show()
    plt.close()

    return processes_created_image_path


